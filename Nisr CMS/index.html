<!DOCTYPE html>
<html>
<head>
    <title>Nisr Dashboard</title>
    <link rel="icon" type="image/x-icon" href="images/logo.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" href="index.css" />
    <script src="index.js"></script>

    <script src="https://accounts.google.com/gsi/client" async defer></script>

</head>
<body>
    <!-- <div class="startGif">
        <image src="images/pheonix-loading-2.gif" />
    </div> -->
    <div class="container">
        <div class="header">
            <div class="headerContent">
                <div class="logoTitleContainer">
                    <img class="logo" src="images/logo.png" />
                    <p class="headerFontStyle">Nisr</p>
                </div>
                <div class="headerFontStyle">
                    <div><a href="index.html">Home </a></div>
                    <div><a href="Quotation/index.html">Quotation </a> </div>
                    <div class="hoverables" onclick="headerDropdown('jobs')">
                    Jobs 🢓
                        <div id="jobsDrop" class="headerDropDown headerFontStyle">
                            <div ><a href="#">Job Orders</a></div>
                            <div ><a href="#">Job Summary</a></div>
                            <div ><a href="#">Job Directory</a></div>
                        </div>
                    </div>
                    <div class="hoverables" onclick="headerDropdown('invoices')">
                        Invoice 🢓
                        <div id="invoiceDrop" class="headerDropDown headerFontStyle">
                            <div><a href="#">Generate</a></div>
                            <div><a href="#">LPO</a></div>
                        </div>
                    </div>
                    <div class="hoverables" onclick="headerDropdown('other')">
                        Other 🢓
                        <div id="otherDrop" class="headerDropDown headerFontStyle">
                            <div><a href="#">Supplier DB</a></div>
                            <div><a href="#">Vehicle Details</a></div>
                            <div><a href="#">Employee Dash</a></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="content">
            <div id="loginCard" class="loginModal">
                <div class="loginModalContent">

                
                <div id="g_id_onload"
                data-client_id="290967390629-u66mf3mnv5mf4jdl4jo76pi5r798oub4.apps.googleusercontent.com"
                data-ux_mode="popup"
                data-callback="handleCredentialResponse"
                data-login_uri="https://main.d1zhc413fi5ech.amplifyapp.com">
                </div>
                <script>

                    function decodeJwtResponse(token) {
                    var base64Url = token.split('.')[1];
                    var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');
                    var jsonPayload = decodeURIComponent(window.atob(base64).split('').map(function(c) {
                        return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
                    }).join(''));

                    return JSON.parse(jsonPayload);
                    }


                    function handleCredentialResponse(response) {
                    const responsePayload = decodeJwtResponse(response.credential);

                    console.log("ID: " + responsePayload.sub);
                    console.log('Full Name: ' + responsePayload.name);
                    console.log('Given Name: ' + responsePayload.given_name);
                    console.log('Family Name: ' + responsePayload.family_name);
                    console.log("Image URL: " + responsePayload.picture);
                    console.log("Email: " + responsePayload.email);

                    phenoxAnimate()
                    loaderActivate()
                    setInterval(phenoxAnimate, 5000);  //activating the main page animation test
                    $('.loginModal').fadeToggle("slow")

                    $('.homepageWelcome').html('Welcome Back <br><br>'+responsePayload.name+'!')

                    }
                  </script>
                    <img src="images/logo.png" width=150px />
                    <p class="headerFontStyle">Nisr</p>
                    <input id="userName" type="text" placeholder="Username" />
                    <p style="color:#ffa3a3;font-weight:bold;" id="userDialog"></p>
                    <input id="passWord" type="password" placeholder="Password" />
                    <p style="color:#ffa3a3;font-weight:bold;" id="passDialog"></p>
                    <div class="passwordHide" >
                    <input id="passWordRadio" style="margin: 0; width: auto;" type="checkbox" onclick="showPassword()">
                    Show Password
                    </div>
                    <div id="loaderDiv"><button class="loginButton1" id="loginButton" onclick="loaderActivate()">Login</button></div>
                    <br>
                    <br>
                    <div class="g_id_signin"
                    data-size="large"
                    data-theme="filled_blue"
                    data-text="sign_in_with"
                    data-shape="rectangular"
                    data-locale="en"
                    data-shape="pill"
                    data-type="standard"></div>
                    <!--<div >
                        <a href="#" style="color: grey; text-decoration: none;" onclick="resetCard1()">Reset password?</a>
                    </div>-->
                </div>
            </div>
            <div class="homePageContainer">
                <div class="animateContainer">
                    <img id="homepageLogo" src="images/logo.png" width=400px />
                </div>
                <div class="homepageWelcome">
                    Welcome Back User!
                </div>
            </div>
        </div>
    </div>

</body>
</html>




